(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20a6e9ac"],{"2d7d":function(e,t,r){"use strict";var a=r("2e3d"),n=r.n(a);n.a},"2e3d":function(e,t,r){},efcf:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-wrap"},[r("div",{staticClass:"ms-login"},[r("div",{staticClass:"ms-title"},[e._v("后台管理系统")]),r("el-form",{ref:"login",staticClass:"ms-content",attrs:{model:e.param,rules:e.rules,"label-width":"0px"}},[r("el-form-item",{attrs:{prop:"account"}},[r("el-input",{attrs:{placeholder:"账号"},model:{value:e.param.account,callback:function(t){e.$set(e.param,"account",t)},expression:"param.account"}},[r("el-button",{attrs:{slot:"prepend",icon:"el-icon-news"},slot:"prepend"})],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}},model:{value:e.param.password,callback:function(t){e.$set(e.param,"password",t)},expression:"param.password"}},[r("el-button",{attrs:{slot:"prepend",icon:"el-icon-setting"},slot:"prepend"})],1)],1),r("div",{staticClass:"login-btn"},[r("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1),r("p",{staticClass:"login-tips"},[e._v("Tips : 用户名为手机号")])],1)],1)])},n=[],s=(r("ac1f"),r("5319"),r("96cf"),r("1da1")),o=r("cdeb"),i={data:function(){return{param:{account:"",password:""},rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm:function(){var e=this;this.$refs.login.validate((function(t){if(!t)return e.$message.error("请输入账号和密码"),console.log("error submit!!"),!1;e.$message.success("登录成功"),localStorage.setItem("ms_username",e.param.username),e.$router.push("/")}))},checkPhone:function(){var e=this.param.username,t=/^[1][3,4,5,7,8][0-9]{9}$/;return!!t.test(e)||(this.$message.error({message:"手机号不正确，请输入正确的手机号",duration:3e3}),!1)},loadInfo:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=window.localStorage.getItem("$user_id"),e.next=3,Object(o["b"])({params:{user_id:t}});case 3:r=e.sent,a=r.errorCode,n=r.data,0===a&&window.localStorage.setItem("$_user_info",JSON.stringify(n));case 7:case"end":return e.stop()}}),e)})))()},vertify:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])(e.param);case 2:if(r=t.sent,a=r.errorCode,n=r.data,0!==a){t.next=15;break}if(window.localStorage.setItem("$user_id",n.user_id),window.localStorage.setItem("$_token",JSON.stringify(n)),console.log("JSON.stringify(data)",JSON.stringify(n)),s=window.localStorage.getItem("$_reject"),!s){t.next=13;break}return e.$router.replace(JSON.parse(s)),t.abrupt("return",!1);case 13:e.$message.success("登录成功"),e.$router.push("/");case 15:case"end":return t.stop()}}),t)})))()},login:function(){var e=this;this.$refs.login.validate((function(t){if(!t)return!1;e.vertify()}))}},computed:{}},c=i,u=(r("2d7d"),r("2877")),l=Object(u["a"])(c,a,n,!1,null,"59e17d88",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-20a6e9ac.a6cf262d.js.map