(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["product"],{"0101":function(t,e,n){"use strict";var a=n("3d6d"),r=n.n(a);r.a},"0b4a":function(t,e,n){"use strict";var a=n("649d"),r=n.n(a);r.a},"0ccb":function(t,e,n){var a=n("50c4"),r=n("1148"),i=n("1d80"),o=Math.ceil,s=function(t){return function(e,n,s){var c,u,l=String(i(e)),f=l.length,d=void 0===s?" ":String(s),p=a(n);return p<=f||""==d?l:(c=p-f,u=r.call(d,o(c/d.length)),u.length>c&&(u=u.slice(0,c)),t?l+u:u+l)}};t.exports={start:s(!1),end:s(!0)}},1148:function(t,e,n){"use strict";var a=n("a691"),r=n("1d80");t.exports="".repeat||function(t){var e=String(r(this)),n="",i=a(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},"159b":function(t,e,n){var a=n("da84"),r=n("fdbc"),i=n("17c2"),o=n("9112");for(var s in r){var c=a[s],u=c&&c.prototype;if(u&&u.forEach!==i)try{o(u,"forEach",i)}catch(l){u.forEach=i}}},"17c2":function(t,e,n){"use strict";var a=n("b727").forEach,r=n("a640"),i=n("ae40"),o=r("forEach"),s=i("forEach");t.exports=o&&s?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"3d6d":function(t,e,n){},"408a":function(t,e,n){var a=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},4160:function(t,e,n){"use strict";var a=n("23e7"),r=n("17c2");a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"44e7":function(t,e,n){var a=n("861d"),r=n("c6b6"),i=n("b622"),o=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},"4d63":function(t,e,n){var a=n("83ab"),r=n("da84"),i=n("94ca"),o=n("7156"),s=n("9bf2").f,c=n("241c").f,u=n("44e7"),l=n("ad6d"),f=n("9f7f"),d=n("6eeb"),p=n("d039"),h=n("69f3").set,b=n("2626"),g=n("b622"),v=g("match"),m=r.RegExp,_=m.prototype,w=/a/g,y=/a/g,x=new m(w)!==w,k=f.UNSUPPORTED_Y,O=a&&i("RegExp",!x||k||p((function(){return y[v]=!1,m(w)!=w||m(y)==y||"/a/i"!=m(w,"i")})));if(O){var S=function(t,e){var n,a=this instanceof S,r=u(t),i=void 0===e;if(!a&&r&&t.constructor===S&&i)return t;x?r&&!i&&(t=t.source):t instanceof S&&(i&&(e=l.call(t)),t=t.source),k&&(n=!!e&&e.indexOf("y")>-1,n&&(e=e.replace(/y/g,"")));var s=o(x?new m(t,e):m(t,e),a?this:_,S);return k&&n&&h(s,{sticky:n}),s},j=function(t){t in S||s(S,t,{configurable:!0,get:function(){return m[t]},set:function(e){m[t]=e}})},C=c(m),E=0;while(C.length>E)j(C[E++]);_.constructor=S,S.prototype=_,d(r,"RegExp",S)}b("RegExp")},"4d90":function(t,e,n){"use strict";var a=n("23e7"),r=n("0ccb").start,i=n("9a0c");a({target:"String",proto:!0,forced:i},{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4de4":function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").filter,i=n("1dde"),o=n("ae40"),s=i("filter"),c=o("filter");a({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"649d":function(t,e,n){},6569:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product"},[n("h2",{staticClass:"title"},[t._v("任务模版")]),n("div",{staticClass:"btn-wrap"},[n("router-link",{staticClass:"release-btn",attrs:{to:"/release-task"}},[n("el-button",{attrs:{type:"primary"}},[t._v("发布任务")])],1)],1),n("div",{staticClass:"table-wrap"},[n("dataTable",{attrs:{list:t.list,type:t.publish_type},on:{update:t.update}})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":t.pageInfo.index,"page-size":t.pageInfo.page_size,total:t.pageInfo.count},on:{"current-change":t.handlePageChange}})],1),n("el-dialog",{attrs:{visible:t.showDetail,width:"420px"},on:{"update:visible":function(e){t.showDetail=e}}},[n("MobileProductDetail",{attrs:{info:{}}})],1)],1)},r=[],i=n("5530"),o=(n("96cf"),n("1da1")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"data-table"},[n("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,"max-height":"550",border:"","header-cell-class-name":"table-header"}},[n("el-table-column",{attrs:{prop:"name",label:"任务名称",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"flex",on:{click:function(n){return t.showDetail(e.row)}}},[n("el-image",{staticClass:"product-img",attrs:{src:e.row.task_cover||""}}),n("el-button",{staticClass:"product-name",attrs:{type:"text"}},[t._v(" "+t._s(e.row.task_name||"")+" ")])],1)]}}])}),n("el-table-column",{attrs:{label:"任务描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",{staticClass:"task-desc"},[t._v(t._s(e.row.task_desc))])]}}])}),n("el-table-column",{attrs:{label:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("￥"+t._s(e.row.display_max_amount))]}}])}),n("el-table-column",{attrs:{label:"任务信息",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"info"},[n("p",[t._v("最大押金："+t._s(e.row.display_max_amount))]),n("p",[t._v("最小押金："+t._s(e.row.display_min_amount))]),n("p",[t._v("奖金比例："+t._s(e.row.display_reward_rate))])])]}}])}),n("el-table-column",{attrs:{prop:"created_timestamp",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[t._v(t._s(t._f("dateFormat")(e.row.updated_timestamp)))])]}}])}),n("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("p",[n("el-tag",{directives:[{name:"show",rawName:"v-show",value:1==e.row.task_status,expression:"scope.row.task_status == 1"}],attrs:{type:"success"}},[t._v("正常")]),n("el-tag",{directives:[{name:"show",rawName:"v-show",value:1!=e.row.task_status,expression:"scope.row.task_status != 1"}],attrs:{type:"warning"}},[t._v("冻结")])],1)]}}])}),n("el-table-column",{attrs:{label:"操作",width:"240",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"!=e.row.task_status,expression:"scope.row.task_status != '1'"}],attrs:{type:"text"},on:{click:function(n){return t.operation(e.$index,e.row,1)}}},[t._v("解冻")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.row.task_status,expression:"scope.row.task_status == '1'"}],attrs:{type:"text"},on:{click:function(n){return t.operation(e.$index,e.row,-1)}}},[t._v("冻结")]),n("el-button",{staticClass:"red",attrs:{type:"text"},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)},c=[],u=(n("99af"),n("4de4"),n("d81d"),n("a434"),n("b0c0"),n("fa7d")),l=n("2f7f"),f=n("2f62"),d={name:"data-table",props:{list:{type:Array,default:function(){return[]}},type:{type:[String,Array],default:"0"}},data:function(){return{query:{address:"",name:"",pageIndex:1,pageSize:10},multipleSelection:[],delList:[],editVisible:!1,pageTotal:0,form:{},tableData:[],idx:-1,id:-1,src:"https://img20.360buyimg.com/mobilecms/s700x700_jfs/t1/66856/21/4885/89400/5d305dcdE3a32bbb4/7999de5bed64297f.jpg!q70.jpg"}},created:function(){},watch:{list:function(t){this.tableData=t}},methods:Object(i["a"])(Object(i["a"])({},Object(f["b"])("product",{setStore:"update"})),{},{showDetail:function(t){this.setStore({key:"info",val:t}),this.$emit("update","showDetail",!0)},handleSearch:function(){this.$set(this.query,"pageIndex",1),this.getData()},handleDelete:function(t,e){var n=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){var t=e.id;return Object(l["b"])({task_id:t})})).then((function(e){var a=e.errorCode,r=e.errorMessage;if(0===a)return n.$message.success("删除成功"),n.tableData.splice(t,1),!1;n.$message.error(r)})).catch((function(){}))},handleSelectionChange:function(t){this.multipleSelection=t},delAllSelection:function(){var t=this.multipleSelection.length,e="";this.delList=this.delList.concat(this.multipleSelection);for(var n=0;n<t;n++)e+=this.multipleSelection[n].name+" ";this.$message.error("删除了".concat(e)),this.multipleSelection=[]},handleEdit:function(t,e){window.sessionStorage.setItem("refersh","1"),this.$router.push({path:"/edit-task",query:{task_id:e.id}})},operation:function(t,e,n){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a.type,r-=0,o="冻结成功",1===n&&(o="解冻成功"),t.next=6,Object(l["g"])({task_id:e.id,task_status:n});case 6:s=t.sent,c=s.errorCode,0===c&&(a.$message.success(o),a.tableData=a.tableData.map((function(t){return t.id!==e.id?t:Object(i["a"])(Object(i["a"])({},e),{},{task_status:n})})).filter((function(t){return 0===r||r===t.task_status})));case 9:case"end":return t.stop()}}),t)})))()},copyUrl:function(t){var e="/pages/productDetail/index?id=".concat(t.base_info.item_id),n=document.createElement("input");n.classList.add("copy-input"),document.body.appendChild(n),n.value=e,n.focus(),n.select(),document.execCommand("copy")&&document.execCommand("copy"),n.blur(),this.$message({message:"复制成功",type:"success"}),document.body.removeChild(n)}}),filters:{dateFormat:function(t){var e=new Date(1e3*(t-0));return Object(u["a"])(e)},formatPrice:function(t){var e=t.low_price,n=t.high_price;e=Object(u["b"])(e-0);var a=e;return n&&(n=Object(u["b"])(n),a="".concat(a," ~ ").concat(n)),a}},mounted:function(){this.tableData=this.list}},p=d,h=(n("0b4a"),n("f5d6"),n("2877")),b=Object(h["a"])(p,s,c,!1,null,"89e3aa26",null),g=b.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task-detail"},[n("img",{staticClass:"task-cover",attrs:{src:t.info.task_cover,alt:"img",srcset:""}}),n("h3",{staticClass:"title"},[t._v(t._s(t.info.task_name))]),n("p",{staticClass:"task-desc"},[t._v(t._s(t.info.task_desc))]),n("p",{staticClass:"line-num"},[t._v("最大押金："+t._s(t.info.display_max_amount))]),n("p",{staticClass:"line-num"},[t._v("最小押金："+t._s(t.info.display_min_amount))]),n("p",{staticClass:"line-num"},[t._v("回报奖金："+t._s(t.info.display_reward_rate))]),n("p",{staticClass:"update-tiem"},[t._v(t._s(t.info.updated_timestamp))])])},m=[],_={name:"task-detail",components:{},computed:Object(i["a"])({},Object(f["c"])("product",["info"])),mounted:function(){console.log("info",this.info)}},w=_,y=(n("0101"),Object(h["a"])(w,v,m,!1,null,"793bec99",null)),x=y.exports,k={name:"product",props:{msg:String},components:{dataTable:g,MobileProductDetail:x},data:function(){return{publish_type:"0",tabList:[{label:"全部",key:"0"},{label:"上架中",key:"1"},{label:"已下架",key:"2"}],filterInfo:{},list:[],pageInfo:{count:0,page_size:10,index:0},showDetail:!1,loading:!1}},methods:{handleClick:function(){this.loadInfo()},update:function(t,e){this[t]=e},handlePageChange:function(t){var e=this;this.pageInfo.index=t-1,this.$nextTick((function(){e.loadInfo()}))},search:function(t){var e=this;this.pageInfo={index:0,page_size:10},this.filterInfo=t,this.$nextTick((function(){e.loadInfo()}))},loadInfo:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a,r,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return",t.$message.success("数据加载中，请稍等"));case 2:return t.list=[],t.loading=!0,n=t.publish_type,a=t.pageInfo,r=t.filterInfo,e.next=7,Object(l["e"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},a),r),{},{publish_type:n}));case 7:o=e.sent,s=o.errorCode,c=o.data,0===s&&(t.list=c.list,t.pageInfo=c.page_info),t.loading=!1;case 12:case"end":return e.stop()}}),e)})))()}},created:function(){this.loadInfo()}},O=k,S=(n("e8ca"),Object(h["a"])(O,a,r,!1,null,"a96eb7a2",null));e["default"]=S.exports},7156:function(t,e,n){var a=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var i,o;return r&&"function"==typeof(i=e.constructor)&&i!==n&&a(o=i.prototype)&&o!==n.prototype&&r(t,o),t}},"9a0c":function(t,e,n){var a=n("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},a434:function(t,e,n){"use strict";var a=n("23e7"),r=n("23cb"),i=n("a691"),o=n("50c4"),s=n("7b0b"),c=n("65f0"),u=n("8418"),l=n("1dde"),f=n("ae40"),d=l("splice"),p=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,b=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d||!p},{splice:function(t,e){var n,a,l,f,d,p,m=s(this),_=o(m.length),w=r(t,_),y=arguments.length;if(0===y?n=a=0:1===y?(n=0,a=_-w):(n=y-2,a=b(h(i(e),0),_-w)),_+n-a>g)throw TypeError(v);for(l=c(m,a),f=0;f<a;f++)d=w+f,d in m&&u(l,f,m[d]);if(l.length=a,n<a){for(f=w;f<_-a;f++)d=f+a,p=f+n,d in m?m[p]=m[d]:delete m[p];for(f=_;f>_-a+n;f--)delete m[f-1]}else if(n>a)for(f=_-a;f>w;f--)d=f+a-1,p=f+n-1,d in m?m[p]=m[d]:delete m[p];for(f=0;f<n;f++)m[f+w]=arguments[f+2];return m.length=_-a+n,l}})},a640:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){throw 1},1)}))}},af24:function(t,e,n){},b64b:function(t,e,n){var a=n("23e7"),r=n("7b0b"),i=n("df75"),o=n("d039"),s=o((function(){i(1)}));a({target:"Object",stat:!0,forced:s},{keys:function(t){return i(r(t))}})},b680:function(t,e,n){"use strict";var a=n("23e7"),r=n("a691"),i=n("408a"),o=n("1148"),s=n("d039"),c=1..toFixed,u=Math.floor,l=function(t,e,n){return 0===e?n:e%2===1?l(t,e-1,n*t):l(t*t,e/2,n)},f=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},d=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));a({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,n,a,s,c=i(this),d=r(t),p=[0,0,0,0,0,0],h="",b="0",g=function(t,e){var n=-1,a=e;while(++n<6)a+=t*p[n],p[n]=a%1e7,a=u(a/1e7)},v=function(t){var e=6,n=0;while(--e>=0)n+=p[e],p[e]=u(n/t),n=n%t*1e7},m=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var n=String(p[t]);e=""===e?n:e+o.call("0",7-n.length)+n}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(e=f(c*l(2,69,1))-69,n=e<0?c*l(2,-e,1):c/l(2,e,1),n*=4503599627370496,e=52-e,e>0){g(0,n),a=d;while(a>=7)g(1e7,0),a-=7;g(l(10,a,1),0),a=e-1;while(a>=23)v(1<<23),a-=23;v(1<<a),g(1,1),v(2),b=m()}else g(0,n),g(1<<-e,0),b=m()+o.call("0",d);return d>0?(s=b.length,b=h+(s<=d?"0."+o.call("0",d-s)+b:b.slice(0,s-d)+"."+b.slice(s-d))):b=h+b,b}})},c975:function(t,e,n){"use strict";var a=n("23e7"),r=n("4d64").indexOf,i=n("a640"),o=n("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,u=i("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(t){return c?s.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},d81d:function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").map,i=n("1dde"),o=n("ae40"),s=i("map"),c=o("map");a({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(t,e,n){var a=n("23e7"),r=n("83ab"),i=n("56ef"),o=n("fc6a"),s=n("06cf"),c=n("8418");a({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,n,a=o(t),r=s.f,u=i(a),l={},f=0;while(u.length>f)n=r(a,e=u[f++]),void 0!==n&&c(l,e,n);return l}})},e439:function(t,e,n){var a=n("23e7"),r=n("d039"),i=n("fc6a"),o=n("06cf").f,s=n("83ab"),c=r((function(){o(1)})),u=!s||c;a({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})},e8ca:function(t,e,n){"use strict";var a=n("f351"),r=n.n(a);r.a},f351:function(t,e,n){},f5d6:function(t,e,n){"use strict";var a=n("af24"),r=n.n(a);r.a},fa7d:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));n("c975"),n("b680"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("4d90"),n("5319");var a=function(t,e){var n;e=e||"YYYY-mm-dd HH:MM:SS";var a={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(var r in a)n=new RegExp("("+r+")").exec(e),n&&(e=e.replace(n[1],1==n[1].length?a[r]:a[r].padStart(n[1].length,"0")));return e},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=(t-0).toFixed(2),n=e.substring(0,e.indexOf(".")).replace(/\B(?=(?:\d{3})+$)/g,","),a=e.substring(e.length,e.indexOf(".")),r=n+a;return r}}}]);
//# sourceMappingURL=product.da0072a1.js.map